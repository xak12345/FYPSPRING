<!DOCTYPE html>
<html>
<head>
<title>Best Selling Products Chart</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous">
<link
	href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script defer
	src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script defer
	src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
<script src="/bootstrap/js/bootstrap.js"></script>
<style>
#currency-converter {
	margin-bottom: 10px;
}
</style>
</head>
<body>
	<div class="container">
		<div th:replace="fragments/header"></div>
		<header>
            <h1>Seller Sales Report</h1>
        </header>

        <div class="container">

            <table id="orderItemList" class="table">
                <thead>
                    <tr>
                        <th>Item ID</th>
                        <th>Item Name</th>
                        <th>Quantity Sold</th>
                        <th>Total Revenue</th>
                    </tr>
                </thead>
		<div class="row">
			<div class="col mb-3" th:text="${orderItem.item.seller}">Seller
				1</div>
			<div class="col mb-3" th:text="${orderItem.Id}">1</div>
			<div class="col mb-3" th:text="${orderItem.orderId}">Order-1</div>
			<div class="col mb-3" th:text="${orderItem.transactionId}">Transaction-1</div>
			<div class="col mb-3" th:text="${orderItem.item.name}">Product
				A</div>
			<div class="col mb-3" th:text="${orderItem.item.price}">100</div>
			<div class="col mb-3" th:text="${orderItem.quantity}">10</div>
		</div>
		<div class="row">
			<div class="col mb-3" th:text="${orderItem.item.seller}">Seller
				2</div>
			<div class="col mb-3" th:text="${orderItem.Id}">2</div>
			<div class="col mb-3" th:text="${orderItem.orderId}">Order-2</div>
			<div class="col mb-3" th:text="${orderItem.transactionId}">Transaction-2</div>
			<div class="col mb-3" th:text="${orderItem.item.name}">Product
				B</div>
			<div class="col mb-3" th:text="${orderItem.item.price}">50</div>
			<div class="col mb-3" th:text="${orderItem.quantity}">15</div>
		</div>
		<!-- Add more 'row' elements with the data as needed -->

		<table id="orderItemList"></table>

		<script>
            function generateChart() {
                // Your existing JavaScript code for the Best Selling Products Chart
            }

            // Call the generateChart function when the DOM content is loaded
            document.addEventListener("DOMContentLoaded", function() {
                // Call the generateChart function
                generateChart();

                // Extract data from the 'div' elements
                const orderItemsTable = document.getElementById("orderItemList");
                const orderItemDivs = document.querySelectorAll(".row .col");
                const orderItems = [];

                for (let i = 0; i < orderItemDivs.length; i += 7) {
                    const seller = orderItemDivs[i].textContent;
                    const itemId = orderItemDivs[i + 1].textContent;
                    const orderId = orderItemDivs[i + 2].textContent;
                    const transactionId = orderItemDivs[i + 3].textContent;
                    const itemName = orderItemDivs[i + 4].textContent;
                    const price = parseFloat(orderItemDivs[i + 5].textContent);
                    const quantity = parseInt(orderItemDivs[i + 6].textContent);

                    // Create an object representing an order item
                    const orderItem = {
                        seller: seller,
                        itemId: itemId,
                        orderId: orderId,
                        transactionId: transactionId,
                        itemName: itemName,
                        price: price,
                        quantity: quantity
                    };

                    orderItems.push(orderItem);
                }

                // Process the data and update the 'orderItemList' table
                orderItemsTable.innerHTML = ''; // Clear the existing table content

                orderItems.forEach(item => {
                    const row = document.createElement('tr');
                    row.insertCell().textContent = item.itemId; // Replace 'item.itemId' with the appropriate property for the item ID
                    row.insertCell().textContent = item.itemName; // Replace 'item.itemName' with the appropriate property for the item name
                    row.insertCell().textContent = item.quantity; // Replace 'item.quantity' with the appropriate property for the item quantity
                    row.insertCell().textContent = item.price * item.quantity; // Calculate the total revenue
                    orderItemsTable.appendChild(row);
                });
            });
        </script>
	</div>
</body>
</html>
